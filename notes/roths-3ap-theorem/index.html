<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="google-site-verification" content=""> <meta http-equiv="Permissions-Policy" content="interest-cohort=()"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Roth's Theorem | Mike Zhou </title> <meta name="author" content="Mike Zhou"> <meta name="description" content="Fourier analytic proof of Roth's Theorem on three-term arithmetic progressions"> <meta name="keywords" content="Mike Zhou, UPenn, University of Pennsylvania, Computer Science, Mathematics, NLP, Machine Learning, Cognitive Computation Group, Penn SEAS, undergraduate researcher"> <meta property="og:site_name" content="Mike Zhou"> <meta property="og:type" content="website"> <meta property="og:title" content="Mike Zhou | Roth's Theorem"> <meta property="og:url" content="https://mikezhou.me/notes/roths-3ap-theorem/"> <meta property="og:description" content="Fourier analytic proof of Roth's Theorem on three-term arithmetic progressions"> <meta property="og:locale" content="en"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="Roth's Theorem"> <meta name="twitter:description" content="Fourier analytic proof of Roth's Theorem on three-term arithmetic progressions"> <script type="application/ld+json">
    {
        "author":
        {
            "@type": "Person",
            "name": "Mike Zhou"
        },
        "url": "https://mikezhou.me/notes/roths-3ap-theorem/",
        "@type": "WebSite",
        "description": "Fourier analytic proof of Roth's Theorem on three-term arithmetic progressions",
        "headline": "Roth's Theorem",
        
        "sameAs": ["https://scholar.google.com/citations?user=qc6CJjYAAAAJ"],
        
        "name": "Mike Zhou",
        "@context": "https://schema.org"
    }
  </script> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://mikezhou.me/notes/roths-3ap-theorem/"> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Mike</span> Zhou </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">home </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item active"> <a class="nav-link" href="/notes/">notes <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Roth's Theorem</h1> <p class="post-description">Fourier analytic proof of Roth's Theorem on three-term arithmetic progressions</p> </header> <article> <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-0823RLC0T3"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-0823RLC0T3");</script> <div class="cv"> <div class="card mt-3 p-3" style="width: fit-content; max-width: 100%;"> <h2 class="card-title font-weight-medium">Contents</h2> <div class="card-text"> <ol style="margin: 0; padding-left: 1.5rem;"> <li><a href="#density-increment-argument">Density Increment Argument</a></li> <li><a href="#strategy">Strategy and Pre-Requisites</a></li> <li><a href="#non-uniformity">3AP-free $\Rightarrow$ large Fourier coefficient</a></li> <li><a href="#density-increment">Large Fourier Coefficient $\Rightarrow$ Density Increment</a></li> <li><a href="#wrap-up">Wrap Up</a></li> </ol> </div> </div> </div> <p><br></p> <h2 id="density-increment-argument">Density Increment Argument</h2> <p><br></p> <p>Roth’s celebrated theorem asserts that any subset of the natural numbers of positive upper density necessarily contains a three-term arithmetic progression (3AP). The proof is based on what is now called the <em>density increment argument</em>. Roughly speaking, one assumes that a set $A$ of natural numbers is free of three-term progressions, and then shows that this assumption forces $A$ to be “more dense than expected” on some structured subset of the integers. Concretely, if $A \subset [N]$ has density $\alpha$, then one can locate a subprogression $P \subset [N]$ on which the density of $A$ is not merely $\alpha$, but rather, let’s say $\alpha + c\alpha^{2}$ for some absolute constant $c&gt;0$:</p> \[\alpha = \frac{\vert A \cap [N]\vert }{N} \leq \frac{\vert A \cap P\vert }{\vert P\vert } - \Omega(\alpha^2)\] <p>(note that we chose $\alpha^2$ as this works out via the proof method. In reality, any diverging series will do).</p> <p>This iteration can be continued: once a progression $P$ has been identified, one may then restrict attention to $A \cap P$ and repeat the argument, obtaining a further density increment on a subprogression of $P$. Since density is bounded above by $1$, this procedure cannot continue indefinitely. Eventually, one reaches a contradiction once $N$ becomes too large, thereby establishing the theorem.</p> <p>To see why such density increments arise upon restriction, it is helpful to examine the inequality more carefully. What it tells us is that whenever $A$ avoids three-term progressions, one can always locate a subprogression on which the density of $A$ increases by an amount comparable to $\alpha^{2}$. Thus, each step of the iteration enforces a definite gain in density. The key question, then, is to identify the mechanism responsible for this gain: what structural features of $A$ make such an increment possible? It is this mechanism that we now turn to analyze. Let’s start with,</p> \[(\alpha + \Omega(\alpha^2)) \ \vert P\vert \leq \vert A \cap P\vert\] <p>In order to establish such an inequality, it suffices to show that</p> \[\sum_{i=1}^k \Omega(\alpha^2) \vert P_i\vert \leq \sum_{i=1}^k \left\vert \vert A \cap P_i\vert - \alpha P_i\right\vert\] <p>The right-hand side can be rewritten as</p> \[\sum_{i=1}^k \left\vert \sum_{x \in P_i} (\mathbb{I} - \alpha)(x)\right\vert \text{ (1)}\] <p>which bears a striking resemblance to a Fourier coefficient:</p> \[\widehat{\mathbb{I} - \alpha}(\theta) = \sum_{x \in [N]} (\mathbb{I} - \alpha)(x) e^{-2\pi i x\theta}. \text{ (2)}\] <p>By the triangle inequality, (1) provides an upper bound for the Fourier coefficient in (2), provided that $e^{-2\pi i x\theta}$remains approximately constant on each subset $P_i$. Therefore, if we can demonstrate the existence of a large Fourier bias and partition $[N]$ into subsets where $e^{-2\pi i x\theta}$ behaves uniformly, we can work backward to obtain another density increment.</p> <p><br></p> <h2 id="strategy">Strategy and Pre-Requisites</h2> <p><br></p> <h3>Strategy</h3> <ol> <li>3AP-free $\Rightarrow$ large Fourier coefficient</li> <li>Large Fourier coefficient $\Rightarrow$ density increment</li> <li>Iterate density increment</li> </ol> <h3>Key Identities</h3> <ul> <li>(Fourier Transform) $\widehat{f}(\theta) = \sum_{x \in \mathbb{Z}} f(x)\text{e}(-x\theta)$ where $\text{e}(t) = \exp{(2\pi i t)}$</li> <li>$\widehat{f}(0) = \sum_{x \in \mathbb{Z}} f(x)$</li> <li>(Parseval) $\sum_{x \in \mathbb{Z}} f(x)\overline{g(x)} = \int_0^1 \widehat{f}(\theta)\overline{\widehat{g}(\theta)} \, d\theta$</li> <li>(Inversion) $f(x) = \int_0^1 \widehat{f}(\theta) \text{e}{(x\theta)} \, d\theta$</li> </ul> <p><br></p> <h3>Counting Function</h3> <p>Since our goal is to prove that we can find a large Fourier coefficient, it might be a good idea to relate the number of 3APs within a set $A$ to its Fourier coefficients. More generally, we’ll define a counting function as follows:</p> \[\Lambda(f, g, h) = \sum_{x, y} f(x)g(x + y)h(x + 2y)\] <p>As you may have guessed, we’re interested particularly in the value $\Lambda(\mathbb{I}, \mathbb{I}, \mathbb{I})$.</p> <p><br></p> <div class="card mt-3 p-3"> <h6 class="card-title font-weight-medium">Lemma 1.</h6> <div class="card-text"> <p>$$\Lambda(f, g, h) = \int_0^1 \widehat{f}(\theta) \widehat{g}(-2\theta) \widehat{h}(\theta) d\theta$$</p> </div> </div> <p><br></p> <p><em>Proof</em>. Using Fourier Inversion,</p> \[\Lambda(f, g, h) = \sum_{x, y} \int_0^1 \widehat{f}(\theta) \text{e}{(x\theta)} \ d\theta \int_0^1 \widehat{g}(\theta) \text{e}{((x + y)\theta)} \ d\theta \int_0^1 \widehat{h}(\theta) \text{e}{((x + 2y)\theta)} \ d\theta\] \[= \int_0^1 \int_0^1 \int_0^1 \widehat{f}(\theta_1) \widehat{g}(\theta_2) \widehat{h}(\theta_3) \left(\sum_{x, y} \text{e}{(x(\theta_1 + \theta_2 + \theta_3))}\text{e}{(y(\theta_2 + 2\theta_3))} \right)\ d\theta_1 d\theta_2 d\theta_3\] <p>Since $\int_0^1 e(xt) dt = 0$ for integers $x$, we have that the integrals are 0 if $\theta_1 + \theta_2 + \theta_3 \neq 0$ or $\theta_2 + 2\theta_3 \neq 0$. Thus, the only contributing terms in the integral are those where $\theta_1 = -\frac{1}{2}\theta_2 = \theta_3$, and we have that</p> \[\int_0^1 \int_0^1 \int_0^1 \widehat{f}(\theta_1) \widehat{g}(\theta_2) \widehat{h}(\theta_3) \left(\sum_{x, y} \text{e}{( (\theta_1 + \theta_2 + \theta_3))}\text{e}{(y(\theta_2 + 2\theta_3))} \right)\ d\theta_1 d\theta_2 d\theta_3\] \[= \int_0^1 \widehat{f}(\theta) \widehat{g}(-2\theta) \widehat{h}(\theta) \ d\theta \square\] <p>We denote $\Lambda(f, f, f)$ as $\Lambda_3(f)$.</p> <p><br></p> <h2 id="non-uniformity">3AP-free $\Rightarrow$ large Fourier coefficient</h2> <p><br></p> <p>Notice that the quantity we are interested, $(\mathbb{I} - \alpha)(x)$, is equal to $(\mathbb{I} - \alpha \mathbb{I}_{[N]})(x)$ (since we are only summing over elements of $[N]$). The number of 3APs in $\mathbb{I}_{[N]}$ is much larger than the number of 3APs in $A$ if $A$ were 3AP free. So if we want to bound the density of $A$ if $A$ is 3AP free, we naturally want to find a way to relate the number of 3APs to the Fourier coefficients of their functions.</p> <p><br></p> <div class="card mt-3 p-3"> <h6 class="card-title font-weight-medium">Lemma 2 (Counting Lemma).</h6> <div class="card-text"> <p>Let $f, g : \ \mathbb{Z} \rightarrow \mathbb{C}$ and $\sum_{n \in \mathbb{Z}} \vert f(n)\vert ^2 \leq M, \sum_{n \in \mathbb{Z}} \vert g(n)\vert ^2 \leq M$, for some $M$. Then, we have that:</p> $$\left\vert \Lambda_3(f) - \Lambda_3(g) \right\vert &lt; 3M \Vert \widehat{f - g}\Vert_{\infty}$$ </div> </div> <p><br></p> <p><em>Proof</em>. Notice that</p> \[\Lambda(f - g, f, f) + \Lambda(g, f - g, f) - \Lambda(g, g, f - g) = \Lambda_3(f) - \Lambda_3(g)\] <p>Using Lemma 1, we have that</p> \[\lvert \Lambda(f - g, f, f) \rvert \leq \int_0^1 \mid \widehat{f - g}(\theta) \widehat{f}(-2\theta) \widehat{f}(\theta) \mid d\theta \leq \Vert \widehat{f - g}\Vert_{\infty} \int_0^1 \lvert \widehat{f}(-2\theta) \rvert \lvert \widehat{f}(\theta) \rvert d\theta\] <p>By Cauchy-Schwarz,</p> \[\leq \Vert \widehat{f - g}\Vert_{\infty} \left(\int_0^1 \widehat{f}(-2\theta)^2 \right)^{1/2} \left(\int_0^1 \widehat{f}(\theta)^2 \right)^{1/2} d\theta\] <p>Using Parseval’s Identity,</p> \[= \Vert \widehat{f - g}\Vert_{\infty} \left(\sum_{x \in \mathbb{Z}} f(2x)^2 \right)^{1/2}\left(\sum_{x \in \mathbb{Z}} f(x)^2 \right)^{1/2}\] \[\leq M \Vert \widehat{f - g}\Vert_{\infty}\] <p>Repeat for the rest, and we have that</p> \[\vert \Lambda_3(f) - \Lambda_3(g)\vert \leq \vert \Lambda(f - g, f, f)\vert + \vert \Lambda(g, f - g, f)\vert + \vert \Lambda(g, g, f - g)\vert \leq 3M \Vert \widehat{f - g}\Vert_{\infty} \square\] <p>Now, we continue with finding our large Fourier coefficient.</p> <p><br></p> <div class="card mt-3 p-3"> <h6 class="card-title font-weight-medium">Lemma 3 (No 3AP $\Rightarrow$ Non-uniformity).</h6> <div class="card-text"> <p>Let $A \subset [N]$ be 3-AP free with $\vert A\vert = \alpha N$ and $N \geq 5/\alpha^2$. Then there exists some $\theta$ such that </p> $$\left\vert \sum _{x \in \mathbb{Z}}^{N}(\mathbb{I}_{A}-\alpha )(x)e(-x\theta)\right\vert \geq {\frac {\alpha ^{2}}{10}}N$$. </div> </div> <p><br></p> <p>Let $\mathbb{I}_{[N]}$ represent the indicator function for whether an element $x$ is in $[N]$ and $\mathbb{I}_{A}$ represent the indicator function for whether an element $x$ is in $A$. Then, we have that $\Lambda_3(\mathbb{I}_{[N]})$ counts the number of 3-term arithmetic progressions from $[N]$, which is more than $\frac{N^2}{2}$. Since we are assuming that $A$ has no nontrivial 3-term arithmetic progressions, we have that $\Lambda_3(\mathbb{I}_A) = \alpha N$. Thus, we have that</p> \[\frac{\alpha^3N^2}{2} - \alpha N \leq \Lambda_3(\alpha \mathbb{I}_{[N]}) - \Lambda_3(\mathbb{I}_A)\] <p>By the counting lemma, we have that</p> \[\Lambda_3(\alpha \mathbb{I}_{[N]}) - \Lambda_3(\mathbb{I}_A) \leq 3\alpha N \Vert \widehat{f - g}\Vert_{\infty}\] \[\frac{\alpha^3N^2}{2} - \alpha N \leq 3\alpha N \Vert \widehat{f - g}\Vert_{\infty}\] \[\Vert \widehat{f - g}\Vert_{\infty} \geq \frac{\alpha^2N}{6} - \frac{1}{3} \geq \frac{\alpha^2N}{10} \square\] <p><br></p> <h2 id="density-increment">Large Fourier Coefficient $\Rightarrow$ Density Increment</h2> <p><br></p> <h3>Subset Division</h3> <p>Now that we have our large Fourier coefficient, we just now need to be able to divide $[N]$ into subsets where $e(-x\theta)$ stay roughly constant. To do so, we first introduce a lemma by Dirichlet.</p> <p><br></p> <div class="card mt-3 p-3"> <h6 class="card-title font-weight-medium">Lemma 4 (Dirichlet).</h6> <div class="card-text"> <p>Let $\theta, \delta \in \mathbb{R}$, there is $x \leq \frac{1}{\delta}$ such that the distance of $x\theta$ to the closest integer is at most $\delta$. </p> </div> </div> <p><br></p> <p><em>Proof</em>. Select $m = \lfloor \frac{1}{\delta}\rfloor$, and let us have an arithemtic sequence $0, \theta, 2\theta, …, m\theta$. Let us divide the unit interval into $\lceil \frac{1}{\delta} \rceil$ intervals: if the $\frac{1}{\delta}$ is am integer, divide it equally. Otherwise, make the first $m$ sections length $\delta$, and the last the remainder (which is less than $\delta$). In case 1, by pigeonhole, we have that two $i\theta$ and $j\theta$ must be in the same section. In the second case, if the last section contained an $i\theta$, we just use that one. Otherwise, there will also be two $i\theta$ and $j\theta$ must be in the same section. The difference $\vert i - j\vert $ the suffices. $\square$</p> <p>The reason why this is so useful is because if we can find a $d$ where $d\theta$ is close to an integer, then $e(d\theta)$ is roughly equal to 1, meaning that the arithmetic progression $e(x\theta), e((x + d)\theta), e((x + 2d)\theta), …$ is roughly constant. We continue this idea as follows.</p> <p><br></p> <div class="card mt-3 p-3"> <h6 class="card-title font-weight-medium">Lemma 5 (Dirichlet).</h6> <div class="card-text"> <p>Let $ 0&lt;\eta &lt;1,\theta \in \mathbb {R} $. Assume that $ N&gt;C\eta ^{-6}$ for a universal constant $C$. Then it is possible to partition $[N]$ into arithmetic progressions $ P_{i}$ with length $ N^{1/3}\leq \vert P_{i}\vert \leq 2N^{1/3}$ such that $ \sup _{x,y\in P_{i}}\vert e(x\theta )-e(y\theta )\vert &lt;\eta $ for all $ i$. </p> </div> </div> <p><br></p> <p><em>Proof</em>. We first bound $\vert e(x\theta) - e(y\theta)\vert $ for $x, y \in P_i$. Because they lie in am arithmetic progression with length $d$, let $x = y + kd$ for some $k$. We can start by rewriting this difference as a telescoping sum</p> \[\vert e(x\theta) - e(y\theta)\vert = \left\vert \sum_{i = 1}^k e((y + id)\theta) - e((y + (i - 1)d)\theta)\right\vert \leq \sum_{i = 1}^k \vert e((y + id)\theta) - e((y + (i - 1)d)\theta)\vert\] \[= \sum_{i = 1}^k \vert e(d\theta) - 1\vert \leq \vert P_i\vert \ \vert e(d\theta) - 1\vert\] <p>Thus, it suffices to pick a common difference $d$ that makes $e(d\theta)$ arbitrarily close to 1. We use the above lemma to choose a $d$ such that $d\theta \leq \frac{\eta}{3\pi N^{1/3}}$ where $d \leq \frac{4\pi N^{1/3}}{\eta}$. First, notice that $\vert e(d\theta) - 1\vert $ is bounded by the arc length of $d\theta$ degrees. Thus,</p> \[\vert e(d\theta) - 1\vert \leq 2\pi \left( \frac{\eta}{4 \pi N^{1/3}}\right) = \frac{\eta}{2N^{1/3}}\] <p>And,</p> \[\sup _{x,y\in P_{i}}\vert e(x\theta )-e(y\theta )\vert \leq \vert P_i\vert \ \vert e(d\theta) - 1\vert \leq 2N^{1/3} \left( \frac{\eta}{2 N^{1/3}}\right) = \eta\] <p>Since $N &gt; C\eta^{-6}$, we have that $d \leq \frac{4\pi N^{1/3}}{CN^{-1/6}} = O(\sqrt{N})$, which is small enough for us to divide our subprogressions with lengths between $N^{1/3}$ and $2N^{1/3}$. $\square$</p> <p>Using this lemma, we now find a subprogression that we can restrict the original set to and find a density increment.</p> <p><br></p> <h3>Density Increment</h3> <div class="card mt-3 p-3"> <h6 class="card-title font-weight-medium">Lemma 6 (Non-uniformity $\Rightarrow$ Density Increment).</h6> <div class="card-text"> <p>Let $A$ be a 3-AP-free subset of $[N]$, with $\vert A\vert =\alpha N$ and $N &gt; C\alpha ^{-12}$. Then, there exists a sub progression $P\subset [N]$ such that $\vert P\vert \geq N^{1/3}$ and $\vert A\cap P\vert \geq (\alpha +\alpha ^{2}/40)\vert P\vert $. </p> </div> </div> <p><br></p> <p><em>Proof</em>. Using the large Fourier coefficient we calculated before, we have that</p> \[\left\vert \sum _{x \in \mathbb{Z}}^{N}(\mathbb{I}_{A}-\alpha )(x)e(-x\theta)\right\vert \geq {\frac {\alpha ^{2}}{10}}N\] <p>Since $N &gt; C\alpha^{-12}$, we can select $\eta = \frac{\alpha^2}{20}$ to divide our sequence into subprogressions</p> \[\frac{\alpha^2}{10}N \leq \left\vert \sum _{x \in \mathbb{Z}}^{N}(\mathbb{I}_{A}-\alpha )(x)e(-x\theta)\right\vert = \left\vert \sum_{i = 1}^k \sum _{x \in P_i}(\mathbb{I}_{A}-\alpha )(x)e(-x\theta)\right\vert \leq \sum_{i = 1}^k \left\vert \sum _{x \in P_i}(\mathbb{I}_{A}-\alpha )(x)e(-x\theta)\right\vert\] <p>and because $\sup _{x,y\in P_{i}}\vert e(x\theta )-e(y\theta )\vert &lt;\frac{\alpha^2}{20}$,</p> \[\leq \sum_{i = 1}^k \left(\left\vert \sum _{x \in P_i}(\mathbb{I}_{A}-\alpha )(x)e(-y_i\theta)\right\vert + \left\vert \sum _{x \in P_i}(\mathbb{I}_{A}-\alpha )(x)(e(-x\theta) - e(-y_i\theta))\right\vert \right)\] \[\leq \sum_{i = 1}^k\left( \left\vert \sum _{x \in P_i}(\mathbb{I}_{A}-\alpha )(x)\right\vert + \frac{\alpha^2}{20}\vert P_i\vert \right)\] <p>for some fixed $y_i \in P_i$. And we have that</p> \[\frac{\alpha^2}{20} \sum_{i = 1}^k \vert P_i\vert = \frac{\alpha^2}{20}N \leq \sum_{i = 1}^k \left\vert \sum _{x \in P_i}(\mathbb{I}_{A}-\alpha )(x)\right\vert = \sum_{i = 1}^k \left\vert \vert A \cap P_i \vert - \alpha P_i \right\vert\] \[=\sum_{i = 1}^k \left\vert \vert A \cap P_i \vert - \alpha P_i \right\vert + \vert A\cap P_i\vert - \alpha P_i\] <p>Notice that $\left\vert \vert A \cap P_i \vert - \alpha P_i \right\vert + \vert A\cap P_i\vert - \alpha P_i$ is either 0 or $2\vert A\cap P_i\vert - 2\alpha P_i$. Because the right hand side is larger than the left, at least one term on the right is at least as large as a term on the left, and since all terms on the left sum are greater than 0, we have that there is some $P_i$ such that</p> \[\frac{\alpha^2}{20} \vert P_i\vert \leq 2\vert A\cap P_i\vert - 2\alpha P_i\] \[\vert A\cap P_i\vert \geq (\alpha +\alpha ^{2}/40)\vert P_i\vert \square\] <p><br></p> <h2 id="wrap-up">Wrap Up</h2> <p><br></p> <p>After at most $40/\alpha + 1$ iterations of restricting to a subprogression and finding the new density of that set restricted to this subprogression, we will double our density in that subset. Then, after $20/\alpha + 1$, we will double again. We can double at most $-\text{log}(\alpha)$ number of times before getting a density greater than 1, meaning that we will have at most $O(\frac{1}{\alpha})$ number of iterations. We can continue iterating until $N_i \leq C\alpha_i^{-12}$, where $N_i$ is size of the progression we are restricting to and $\alpha_i$ is the density of the set in this progression. Let us continue iterating until this condition. Then $N_i \leq C \alpha_i^{-12} \leq C\alpha^{-12}$, and since our subprogression is of size at least $N^{1/3}$,</p> \[N \leq N_i^{3^i} \leq (C\alpha^{-12})^{3^i}\] <p>Since we have at most $O(\frac{1}{\alpha})$ iterations before achieving a density over 1,</p> \[\leq (C\alpha^{-12})^{3^{O(1/\alpha)}} = e^{e^{O(1/\alpha)}}\] <p>This means that</p> \[\alpha = O\left( \frac{1}{\text{log(log(}N))} \right)\] </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Mike Zhou. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2930004b8d7fcd0a8e00fdcfc8fc9f24"></script> <script defer src="/assets/js/common.js?da39b660470d1ba6e6b8bf5f37070b6e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams",inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]]},startup:{ready:function(){MathJax.startup.defaultReady(),console.log("MathJax is loaded and ready")}}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-0823RLC0T3"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-0823RLC0T3");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>