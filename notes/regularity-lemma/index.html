<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="google-site-verification" content=""> <meta http-equiv="Permissions-Policy" content="interest-cohort=()"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Szemerédi's Regularity Lemma | Mike Zhou </title> <meta name="author" content="Mike Zhou"> <meta name="description" content="Mike Zhou - Computer Science and Mathematics student at the University of Pennsylvania (UPenn). Undergraduate researcher at Penn's Cognitive Computation Group working on NLP and machine learning. "> <meta name="keywords" content="Mike Zhou, UPenn, University of Pennsylvania, Computer Science, Mathematics, NLP, Machine Learning, Cognitive Computation Group, Penn SEAS, undergraduate researcher"> <meta property="og:site_name" content="Mike Zhou"> <meta property="og:type" content="website"> <meta property="og:title" content="Mike Zhou | Szemerédi's Regularity Lemma"> <meta property="og:url" content="https://mikezhou.me/notes/regularity-lemma/"> <meta property="og:description" content="Mike Zhou - Computer Science and Mathematics student at the University of Pennsylvania (UPenn). Undergraduate researcher at Penn's Cognitive Computation Group working on NLP and machine learning. "> <meta property="og:locale" content="en"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="Szemerédi's Regularity Lemma"> <meta name="twitter:description" content="Mike Zhou - Computer Science and Mathematics student at the University of Pennsylvania (UPenn). Undergraduate researcher at Penn's Cognitive Computation Group working on NLP and machine learning. "> <script type="application/ld+json">
    {
        "author":
        {
            "@type": "Person",
            "name": "Mike Zhou"
        },
        "url": "https://mikezhou.me/notes/regularity-lemma/",
        "@type": "WebSite",
        "description": "Mike Zhou - Computer Science and Mathematics student at the University of Pennsylvania (UPenn). Undergraduate researcher at Penn's Cognitive Computation Group working on NLP and machine learning.
",
        "headline": "Szemerédi's Regularity Lemma",
        
        "sameAs": ["https://scholar.google.com/citations?user=qc6CJjYAAAAJ"],
        
        "name": "Mike Zhou",
        "@context": "https://schema.org"
    }
  </script> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://mikezhou.me/notes/regularity-lemma/"> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Mike</span> Zhou </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">home </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item active"> <a class="nav-link" href="/notes/">notes <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/about/">about </a> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Szemerédi's Regularity Lemma</h1> <p class="post-description"></p> </header> <article> <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-0823RLC0T3"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-0823RLC0T3");</script> <p>One of the guiding principles in extremal combinatorics is that large, complicated objects often admit useful approximate descriptions. For graphs, a natural approach is to partition the vertex set into a moderate number of pieces and ask whether the edge distribution between these pieces has some uniformity.</p> <p>The Regularity Lemma asserts that this can always be done: every large graph can be approximated, at a coarse scale, by a partition in which almost all pairs of vertex classes behave in a pseudorandom fashion. That is, the edge density between two classes is essentially stable, in the sense that it does not fluctuate significantly when one restricts to large subsets. This allows one to replace the original graph by a simpler ``reduced graph’’ on the partition classes, losing only a small amount of information.</p> <h3>Basic Definitions</h3> <p><strong>Edge density.</strong><br> Let $G=(V,E)$ be a graph and let \(A,B \subseteq V\) be disjoint nonempty sets.<br> The <em>edge density</em> between \(A\) and \(B\) is defined as</p> \[d(A,B) := \frac{e(A,B)}{|A|\,|B|},\] <p>where $e(A,B)$ is the number of edges with one endpoint in $A$ and one in $B$.</p> <p>Now, how should we define what it means for the edges between two vertex sets to look random?<br> A natural way to define randomness between two vertex sets is to ask whether their edges are distributed approximately uniformly.<br> To capture this, we require that no large subset of either side reveals a very different density of edges than the whole pair.</p> <p><strong>$\varepsilon$-regular pair.</strong><br> Given \(\varepsilon &gt; 0\), a pair \((A,B)\) of disjoint vertex sets is said to be \(\varepsilon\)-regular if for all subsets \(X \subseteq A\) and \(Y \subseteq B\) with \(|X| \geq \varepsilon |A|\) and \(|Y| \geq \varepsilon |B|\)$, one has</p> \[\bigl|\, d(X,Y) - d(A,B) \,\bigr| \leq \varepsilon.\] <p>In other words, the density between $A$ and $B$ is essentially uniform across all large enough sub-pairs.</p> <p>We now define what it means for a partition to be random-like.</p> <p><strong>$\varepsilon$-regular partition.</strong><br> For \(\varepsilon &gt; 0\), a partition of the vertex set</p> \[V = V_0 \cup V_1 \cup \cdots \cup V_k\] <p>is called an $\varepsilon$-regular partition if:</p> <ol> <li> \[|V_0| \leq \varepsilon |V| \quad\text{(an exceptional set of negligible size)},\] </li> <li> \[|V_1| = |V_2| = \cdots = |V_k| \quad\text{(the non-exceptional classes are balanced)},\] </li> <li>all but at most \(\varepsilon k^2\) of the pairs \((V_i,V_j)\) with \(1 \leq i &lt; j \leq k\) are \(\varepsilon\)-regular.</li> </ol> <p>Having defined \(\varepsilon\)-regular partitions, a natural question arises:<br> how many parts must we allow in order to guarantee that such a partition exists?<br> Remarkably, Szemerédi proved that the number of parts required depends not on the size of the graph, but only $\varepsilon$ (and a chosen lower bound for the number of parts). This Ramsey-like phenomenon is the content of the Regularity Lemma.</p> <p><strong>Szemerédi’s Regularity Lemma.</strong><br> For every \(\varepsilon&gt;0\) and integer \(m_0 \ge 1\) there exists \(M=M(\varepsilon,m_0)\) such that every finite graph \(G=(V,E)\) admits a partition</p> \[V \;=\; V_0 \cup V_1 \cup \cdots \cup V_k, \qquad m_0 \le k \le M,\] <p>with</p> \[|V_0| \le \varepsilon |V| \quad\text{and}\quad |V_1|=\cdots=|V_k|,\] <p>for which all but at most \(\varepsilon k^2\) of the pairs \((V_i,V_j)\), \(1\le i&lt;j\le k\)$, are \(\varepsilon\)-regular.</p> <h3>Proof</h3> <p>At first sight, the Regularity Lemma looks like a forbiddingly difficult statement to prove: one has to somehow enforce uniform edge distributions across almost all pairs in a partition of arbitrary size.<br> The key insight is the so-called <em>energy increment argument</em>.<br> One defines a simple quantitative measure of how well a partition captures the structure of a graph—often called the <em>energy</em> of the partition—by averaging squared edge densities across the pairs.<br> If a partition is not yet $\varepsilon$-regular, then one can refine it in such a way that this energy strictly increases by a definite amount.<br> Since the energy is bounded above, this process cannot continue indefinitely, and so after finitely many steps one arrives at an $\varepsilon$-regular partition.<br> The elegance of this method lies in turning what seems an intractable global requirement into the repeated local act of improving a potential function.</p> <p><strong>Definition (Energy of a pair).</strong><br> Let \(U, W \subseteq V\) with \(|V| = n\).<br> The energy of the pair $(U,W)$ is defined by</p> \[q(U,W) := \frac{|U|\,|W|}{n^{2}} \, d(U,W)^{2}.\] <p>For partitions \(\mathcal{P}_U = \{ U_1, \ldots, U_k \} \quad \text{of } U\) and \(\mathcal{P}_W = \{ W_1, \ldots, W_\ell \} \quad \text{of } W,\) we define the energy to be the sum of the energies between each pair of parts:</p> \[q(\mathcal{P}_U, \mathcal{P}_W) := \sum_{i=1}^{k} \sum_{j=1}^{\ell} q(U_i, W_j).\] <p>Finally, for a partition \(\mathcal{P} = \{ V_1, \ldots, V_k \} \quad \text{of } V,\) define the energy of \(\mathcal{P}\) to be \(q(\mathcal{P}) := q(\mathcal{P}, \mathcal{P}).\)</p> <p>Specifically,</p> \[q(\mathcal{P}) = \sum_{i=1}^{k} \sum_{j=1}^{k} q(V_i, V_j) = \sum_{i=1}^{k} \sum_{j=1}^{k} \frac{|V_i|\,|V_j|}{n^{2}} \, d(V_i, V_j)^{2}.\] <p>Note that energy is always between $0$ and $1$, since edge density is at most $1$:</p> \[q(\mathcal{P}) = \sum_{i=1}^{k} \sum_{j=1}^{k} \frac{|V_i|\,|V_j|}{n^{2}} \, d(V_i, V_j)^{2} \;\;\leq\;\; \sum_{i=1}^{k} \sum_{j=1}^{k} \frac{|V_i|\,|V_j|}{n^{2}} = 1.\] <p>To be continued.</p> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Mike Zhou. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2930004b8d7fcd0a8e00fdcfc8fc9f24"></script> <script defer src="/assets/js/common.js?da39b660470d1ba6e6b8bf5f37070b6e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-0823RLC0T3"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-0823RLC0T3");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>